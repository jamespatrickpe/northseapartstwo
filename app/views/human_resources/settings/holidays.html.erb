<section class='small-10 columns'>
  <div class='mainheader'> Holidays </div>
  <div class='subdescription'> The Labor Code of the Philippines specifies two types of holidays: the "regular holiday" and the "special non-working day"  </div>
  <hr>
  <%= generic_table_search( 'holidays_search_input', 'holidays',' Search Holidays' , '/human_resources/search_suggestions_holidays', 'holidays') %>
  <% table_orientation = shift_table_orientation %>
  <% begin %>
      <table class="generic_table" id="holidays_table">
        <thead>
        <tr>
          <th>
            Holidays ID
            <%= generic_table_theadlink('holidays','holidays.id', table_orientation) %>
          </th>
          <th>
            Type
            <%= generic_table_theadlink('holidays','holiday_types.type_name', table_orientation) %>
          </th>
          <th>
            Name
            <%= generic_table_theadlink('holidays','holidays.name', table_orientation) %>
          </th>
          <th>
            Description
            <%= generic_table_theadlink('holidays','holidays.description', table_orientation) %>
          </th>
          <th>
            Date of Implementation
            <%= generic_table_theadlink('holidays','holidays.date_of_implementation', table_orientation) %>
          </th>
          <th>
            Date Created <%= generic_table_theadlink('holidays','holidays.created_at', table_orientation) %>
          </th>
          <th>
            Last Updated <%= generic_table_theadlink('holidays','holidays.updated_at', table_orientation) %>
          </th>
          <th class="actions" align="center">&nbsp;</th>
        </tr>
        </thead>
        <% if @holidays.empty? == true %>
            <% raise exception %>
        <% else %>
            <tbody>
            <% @holidays.each do |holiday| %>
                <tr>
                  <td><%= holiday[:id] %></td>
                  <td><%= holiday.holiday_type.type_name %></td>
                  <td><%= holiday[:name] %></td>
                  <td><%= holiday[:description] %></td>
                  <td><%= holiday[:date_of_implementation] %></td>
                  <td><%= holiday[:created_at] %></td>
                  <td><%= holiday[:updated_at] %></td>
                  <td class="actions">
                    <%= link_to( "&#9998;".html_safe ,{:action => 'edit_holiday', :holiday_id => holiday.id}, class: 'action_button', tooltip: 'Edit') %>
                    <%= link_to( "&#10006;".html_safe ,{:action => 'delete_holiday', :holiday_id => holiday.id}, class: 'action_button deletable_item', tooltip: 'Delete') %>
                  </td>
                </tr>
            <% end %>
            </tbody>
        <% end %>
      </table>
  <% rescue => ex%>
      <script>
          html = "<hr><p align='center'> No records found. Please try again.</p><hr>"
          $(".generic_table").replaceWith(html)
      </script>
  <% end %>
  <%= generic_table_footer('new_holiday','/human_resources/holidays',@holidays) %>
</section>