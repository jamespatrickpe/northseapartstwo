<div class="form-block">
  <div class="label">Name</div>

  <input type="text"
         required="required"
         placeholder="Name of Actor"
         data-parsley-trigger = keyup
         data-parsley-maxlength = 64
         id="actor_name"
         value= "<%= @selected_actor[:name] %>"
         name="actor[name]">
</div>

<div class="form-block">
  <div class="label">Name</div>
  <%=
      text_area_tag("actor[remark]",
                    content = @selected_actor[:remark],
                    options = {class: "remark_remark",
                               :"data-parsley-trigger" => "keyup",
                               :"data-parsley-maxlength"=>"128",
                               :placeholder => 'remark' })
  %>
</div>

<div class="form-block">
  <div class="label">Upload Image</div>
  <%= file_field_tag "actor[logo]", options = { "accept" => "image/*",
                                                :"data-parsley-trigger" => "change",
                                                "data-parsley-filesize"=>3000000,
                                                ":data-parsley-filetype"=>"image"} %>
</div>

<script>

    var myFileSize = 0;
    var myFileType = "";
    $('#actor_logo').bind('change', function() {
        myFileSize = this.files[0].size
        myFileType = this.files[0].type
    });

    window.Parsley
            .addValidator('filesize', {
                requirementType: 'string',
                validateString: function(value, requirement)
                {
                    myToken = false
                    if(myFileSize <= requirement)
                    {
                        myToken = true
                    }
                    return myToken
                },
                messages: {
                    en: 'File is too large; Must be less than 3MB'
                }
            });

    window.Parsley
            .addValidator('filetype', {
                requirementType: 'string',
                validateString: function(value, requirement)
                {
                    myToken = false
                    if(myFileType == "image/jpeg" || myFileType == "image/png" || myFileType == "image/gif" || myFileType == "image/jpg")
                    {
                        myToken = true
                    }
                    return myToken
                },
                messages: {
                    en: 'Incorrect File Type'
                }
            });

</script>

<br />
