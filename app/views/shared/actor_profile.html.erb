<section class='small-10 columns'>
  <div class='mainheader'> <%= @selected_model ||= 'Actor' %> Profiler </div>
  <div class='subdescription'> Information about a Specific <%= @selected_model ||= 'Actor' %> </div>
  <hr>

  <div class='small-4 columns'>
    <div class='generic_form'>
      <%= form_tag( {action: 'index'}, multipart: true, class: 'create_form', id: "employee_profile", :"data-parsley-validate" => "" ) do %>
          <select name='actor[id]'
                  id='read_actor'
                  class='actor_select_field'
                  required="required" >
            <option value="" disabled selected>Select Employee</option>
            <% @actors.each do |actor| %>
                <% if actor.id == @selected_actor.id %>
                    <option value=<%= actor.id %> selected><%= actor.name %></option>
                <% else %>
                    <option value=<%= actor.id %>><%= actor.name %></option>
                <% end %>
            <% end %>
          </select>
      <% end %>
    </div>

    <% if @selected_employee.present? %>
    <div class="employee_profile_title"> Employee Data </div>
    <div class="employee_profile_field"> Employee ID: <br> <%= @selected_employee.id.present? ? (@selected_employee.id) : ('n/a') %> </div>
    <div class="employee_profile_field"> Branch: <br> <%= @selected_branch.name.present? ? (@selected_branch.name) : ('n/a') %> </div>
    <div class="employee_profile_field"> Registered At: <br> <%= @selected_employee.created_at.present? ? (@selected_employee.created_at) : ('n/a') %> </div>
    <div class="employee_profile_field"> Updated At: <br> <%= @selected_employee.updated_at.present? ? (@selected_employee.updated_at) : ('n/a') %> </div>
    <% end %>

    <div class="employee_profile_title"> Access </div>
    <% if @selected_access.present? %>
    <div class="employee_profile_field"> Username: <br>
      <%= link_to( @selected_access.username ,{:controller => 'access', :action => 'signin'}, class: 'employee_profile_small_button') %>
    </div>
    <div class="employee_profile_field"> Email: <br>
      <a class="employee_profile_small_button" href="mailto:<%= @selected_access.email.present? ? (@selected_access.email) : ('') %>" target="_top"><%= @selected_access.email.present? ?  (@selected_access.email) : ('n/a')%> </a>
    </div>
    <div class="employee_profile_field"> Last Login: <br> <%= @selected_access.last_login.present? ? (@selected_access.last_login) : ('n/a')%> </div>
    <% else %>
    <hr><div align="center"> n/a </div><hr>
    <% end %>

    <% if @selected_file_set.present? %>
        <div class="employee_profile_title"> Associated Files </div>
        <% @selected_file_set.each do |file_set| %>
            <div class="employee_profile_field">
              <a class="employee_profile_small_button" href=<%=file_set.file %>> <%= file_set.label %></a>
            </div>
        <% end %>
    <% end %>

  </div>

  <div class='small-4 columns'>
    <div class="employee_profile_title"> Biodata: </div>
  <% if @selected_biodata.present? %>
    <div class="employee_profile_field"> Education: <br> <%= @selected_biodata.education %> </div>
    <div class="employee_profile_field"> Career Experience: <br> <%= @selected_biodata.career_experience %> </div>
    <div class="employee_profile_field"> Notable Accomplishments: <br> <%= @selected_biodata.notable_accomplishments %> </div>
    <div class="employee_profile_field"> Date of Birth: <br> <%= @selected_biodata.date_of_birth %> </div>
    <div class="employee_profile_field"> Family Members: <br> <%= @selected_biodata.family_members %> </div>
    <div class="employee_profile_field"> Citizenship: <br> <%= @selected_biodata.citizenship %> </div>
    <div class="employee_profile_field"> Gender: <br> <%= @selected_biodata.gender %> </div>
    <div class="employee_profile_field"> Place of Birth: <br> <%= @selected_biodata.place_of_birth %> </div>
    <div class="employee_profile_field"> Emergency Contact: <br> <a class='employee_profile_small_button' href=tel:<%= @selected_biodata.emergency_contact %> > <%= @selected_biodata.emergency_contact %> </a> </div>
    <div class="employee_profile_field"> Languages Spoken: <br> <%= @selected_biodata.languages_spoken %> </div>
    <div class="employee_profile_field"> Complexion: <br> <%= @selected_biodata.complexion %> </div>
    <div class="employee_profile_field"> Height (cm): <br> <%= @selected_biodata.height_cm %> </div>
    <div class="employee_profile_field"> Marital Status: <br> <%= @selected_biodata.marital_status %> </div>
    <div class="employee_profile_field"> Blood Type: <br> <%= @selected_biodata.blood_type %> </div>
    <div class="employee_profile_field"> Religion: <br> <%= @selected_biodata.religion %> </div>
  <% else %>
      <hr><div align="center"> n/a </div><hr>
  <% end %>
  </div>

  <div class='small-4 columns'>
    <div class="employee_profile_title"> Profile Picture </div>
    <% if @selected_actor.logo.present? %>
    <img style='padding: 5px' src= <%= @selected_actor.logo %> />
    <% else %>
        <hr><div align="center"> n/a </div><hr>
    <% end %>
    <% if @selected_image_set.present? %>
    <div class="employee_profile_title"> Associated Images </div>
        <ul class="small-block-grid-3" >
          <% @selected_image_set.each do |image_set| %>
          <li tooltip=<%= image_set.description %> class='employee_profile_image_container' style='height: 50px;overflow-y: hidden;padding: 5px;'><a class='employee_profile_image_link' target="_blank" href=<%= image_set.picture.url %>> <img src=<%= image_set.picture %>/> </a></li>
          <% end %>
        </ul>
    <% end %>
  </div>

  <div class='small-12 columns'>
    <div class="employee_profile_title"> Contact Details </div>
    <div class='small-4 columns'>
      <div class="employee_profile_field">ADDRESSES:</div>
      <% if @selected_address_set.present? %>
          <% @selected_address_set.each do |address| %>
              <div class="employee_profile_field">
                <%= link_to address.description, 'https://www.google.com/maps/preview/@'+address.latitude.to_s+','+address.longitude.to_s+',10z', class: "employee_profile_small_button", target: "_blank" %>
              </div>
          <% end %>
      <% else %>
          <hr><div align="center"> n/a </div><hr>
      <% end %>
    </div>
    <div class='small-4 columns'>
      <div class="employee_profile_field">TELEPHONES:</div>
      <% if @selected_telephone_set.present? %>
          <% @selected_telephone_set.each do |telephone| %>
              <div class="employee_profile_field">
                <%= telephone.description %> <br>
                <%= link_to telephone.digits, 'tel:'+telephone.digits, class: "employee_profile_small_button", target: "_blank" %>
              </div>
          <% end %>
      <% else %>
          <hr><div align="center"> n/a </div><hr>
      <% end %>
    </div>
    <div class='small-4 columns'>
      <div class="employee_profile_field">DIGITALS:</div>
      <% if @selected_digital_set.present? %>
          <% @selected_digital_set.each do |digital| %>
              <div class="employee_profile_field">
                <%= digital.description %> <br>
                <%= link_to digital.url, digital.url, class: "employee_profile_small_button", target: "_blank" %>
              </div>
          <% end %>
      <% else %>
          <hr><div align="center"> n/a </div><hr>
      <% end %>
    </div>
  </div>

  <div class="lg-spacer"></div>

  <hr />

  <div class="lg-spacer"></div>

</section>

<script type="application/javascript">
    $(document).ready(function()
    {
        $('.actor_select_field')
                .selectize({sortField: 'text'})
                .change(function(){
                    var actor_id = $('#read_actor').val();
                    window.location.href = '/' + controller_name + '/' + action_name + '?actor_id=' + actor_id;
                });

        $('.employee_profile_image_container').qtip({
            content: $(this).attr('tooltip'),
            position:
            {
                target: 'mouse',
                adjust: {mouse: false}
            }
        });
    });
</script>