<section class='small-10 columns'>
  <div class='mainheader'> Permissions </div>
  <div class='subdescription'> List of permissions used within the system. </div>
  <hr>
  <%= generic_table_search %>
  <% table_orientation = shift_table_orientation %>
  <% begin %>
      <table class='generic_table' id='permission_table'>
        <thead>
        <tr>
          <th>
            ID
            <%= generic_table_theadlink('permissions.id', table_orientation) %>
          </th>
          <th>
            Access ID
            <%= generic_table_theadlink('permissions.access_id', table_orientation) %>
          </th>
          <th>
            Permission
            <%= generic_table_theadlink('permissions.can', table_orientation) %>
          </th>
          <th>
            Remark
            <%= generic_table_theadlink('permissions.remark', table_orientation) %>
          </th>
          <th class="actions" align="center">&nbsp;</th>
        </tr>
        </thead>
        <% if @permissions.empty? == true %>
            <% raise exception %>
        <% else %>
            <tbody>
            <% @permissions.each do |permission| %>
                <tr>
                  <td><%= permission[:id] %></td>
                  <td><%= permission[:access_id] %> </td>
                  <td><%= permission[:can] %> </td>
                  <td><%= permission[:remark] %> </td>
                  <td class="actions">
                    <%= generic_table_actions(permission[:id]) %>
                  </td>
                </tr>
            <% end %>
            </tbody>
        <% end %>
      </table>
  <% rescue => ex %>
      <%= generic_table_error(ex) %>
  <% end %>
  <%= generic_table_footer(@permissions) %>
</section>